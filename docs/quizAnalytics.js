(()=>{"use strict";const e=e=>e?Number(e.split("_")[1]):0;function t(e=[],t=[],n={}){let r=[...e];const o=document.createElement("table"),s=document.createElement("thead"),a=document.createElement("tbody"),c=document.createElement("tr");return t.forEach((e=>{const t=document.createElement("th");t.innerText=n[e]?.name,c.appendChild(t)})),s.appendChild(c),r.forEach((e=>{const n=document.createElement("tr");t.forEach((t=>{const r=document.createElement("td");r.innerText=e[t],n.appendChild(r)})),a.appendChild(n)})),o.appendChild(s),o.appendChild(a),o}!function(e){const n=document.getElementById("dataByCategory"),r=document.getElementById("allAttemptsTable"),o=t(...function(e){let t=Object.values(e),n=Object.keys(e);const r=["id","categoryName","noOfQuestions","correctAnswers","wrongAnswers","notTaken"],o={},s={id:"ID",categoryName:"Category",noOfQuestions:"Number Of Questions",correctAnswers:"Correct Answers",wrongAnswers:"Wrong Answers",notTaken:"Not Taken"};return r.forEach((e=>{o[e]={name:s[e]}})),t=t.map(((e,t)=>({...e,id:t+1,categoryName:n[t]||"Random"}))),[t,r,o]}(e.categoryAnalytics)),s=function(e){let t=Object.values(e.details);Object.keys(e.details);const n=["id","attemptNumber","noOfQuestions","correctAnswers","wrongAnswers","notTaken","date"],r={},o={id:"ID",attemptNumber:"Attempts",noOfQuestions:"Number Of Questions",correctAnswers:"Correct Answers",wrongAnswers:"Wrong Answers",notTaken:"Not Taken",date:"Date"};return n.forEach((e=>{r[e]={name:o[e]}})),t=t.map(((e,t)=>({...e.baseAnalytics,date:new Date(e.baseAnalytics.date).toDateString(),id:t+1,attemptNumber:`Attempt ${t+1}`||"Random"}))),[t,n,r]}(e.previousAttempts);!function(e){const t=e.correctAnswers/e.noOfQuestions*100;document.querySelector("#percentage").textContent=`${t}%`,document.querySelector("#noOfQuestionsText").textContent=e.noOfQuestions,document.querySelector("#correctAnswersText").textContent=e.correctAnswers,document.querySelector("#wrongAnswersText").textContent=e.wrongAnswers}(s[0][s[0]?.length-1]);const a=t(...s);n.appendChild(o),r.appendChild(a)}((()=>{const t=localStorage.getItem("quizAttemptsKey"),n=JSON.parse(t),r=(t=>{const n={...t};if(!n)return{isAvailable:!1,attempt:{},noOfAttempts:e("")};const r=n.order[n.order.length-1];return{isAvailable:!1,attempt:n.details[r],noOfAttempts:e(r)}})(n),o=n;console.log("quizAttemps",n,r);const s=(e=>{const t={};return e.order.forEach((n=>{e.details[n].quizItems.forEach((e=>{switch(t[e.category]||(t[e.category]={noOfQuestions:0,correctAnswers:0,wrongAnswers:0,notTaken:0}),e.quizStatus){case 1:t[e.category].correctAnswers+=1;break;case 2:t[e.category].wrongAnswers+=1;break;default:t[e.category].notTaken+=1}t[e.category].noOfQuestions+=1}))})),t})(n);return{latestAttempt:r,previousAttempts:o,categoryAnalytics:s}})())})();